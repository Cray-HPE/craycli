{
    "openapi": "3.0.2",
    "info": {
        "title": "Rack Resiliency Service",
        "license": {
            "name": "Hewlett Packard Enterprise Development LP",
            "url": "http://www.hpe.com/"
        },
        "version": "1.0.0",
        "description": "The Rack Resiliency Service (RRS) queries the Kubernetes cluster to provide aggregated zone information and detailed critical service status. It gathers node details across various zones and presents both high-level summaries and in-depth information for zones and critical services.\n## Resources\n\n  ### /zones\n    Retrieve aggregated zone information including:\n      - Management Master Nodes: List of master node names.\n      - Management Storage Nodes: List of storage node names.\n      - Management Worker Nodes: List of worker node names.\n      \n    Alternatively, if zones are not configured, one of the following informational messages is returned:\n      - \"No Zones configured\"\n      - \"No Ceph zones configured\"\n      - \"No K8s topology zones configured\"\n\n  ### /zones/{zone_name}\n    Retrieve detailed information for a specific zone including:\n      - Zone Name\n      - Management Master: object with Nodes (array of node objects with Name and Status) and Type.\n      - Management Masters: number (count of master nodes).\n      - Management Storage: number (count of storage nodes).\n      - Management Worker: object with Nodes (array of node objects with Name and Status) and Type.\n      - Management Workers: number (count of worker nodes).\n\n  ### /criticalservices\n    Retrieve a list of critical services grouped by namespace.\n\n  ### /criticalservices/{critical_service_name}\n    Retrieve detailed information for a specific critical service including:\n      - Configured Instances\n      - Currently Running Instances\n      - Name\n      - Namespace\n      - Pods: array of pod objects with Name, Node, Status, Zone.\n      - Type\n\n  ### /criticalservices/status\n    Retrieve the status of all critical services. The response includes:\n      - services: an array of objects each containing:\n          - service-name: the name of the critical service.\n          - status: the current status (e.g., balanced, unbalanced).\n          - replicaDistribution: an object where each key is a zone and the value is an array of objects mapping node names to pod names.\n\n  ### /criticalservices/status/{critical_service_name}\n    Retrieve the status of a specific critical service. The response includes:\n      - service-name: the name of the critical service.\n      - status: the current status.\n      - replicaDistribution: an object where each key is a zone and the value is an array of objects mapping node names to pod names.\n\n## Workflows\n\n  - GET /zones  \n    Retrieve aggregated zone configuration.\n\n  - GET /zones/{zone_name}  \n    Retrieve detailed information for a specific zone.\n\n  - GET /criticalservices  \n    Retrieve a list of critical services grouped by namespace.\n\n  - GET /criticalservices/{critical_service_name}  \n    Retrieve detailed information for a specific critical service.\n\n  - PATCH /criticalservices  \n    Update the critical services configuration.\n\n  - GET /criticalservices/status  \n    Retrieve the status of all critical services including service status and detailed replica distribution.\n\n  - GET /criticalservices/status/{critical_service_name}  \n    Retrieve the status of a specific critical service.\n"
    },
    "servers": [
        {
            "url": "https://api-gw-service-nmn.local/apis/rrs",
            "description": "The production RRS API server. Accessed from outside the mesh."
        }
    ],
    "paths": {
        "/zones": {
            "get": {
                "summary": "Get Zones Configuration",
                "tags": [
                    "zones"
                ],
                "description": "Returns an object with a property \"Zones\" that is an array of zones. Each zone contains:\n  - \"Zone Name\": the name of the zone.\n  - \"Kubernetes Topology Zone\": contains:\n      \"Management Master Nodes\": { \"Nodes\": [ ... ] }\n      \"Management Worker Nodes\": { \"Nodes\": [ ... ] }\n  - \"CEPH Zone\": contains:\n      \"Management Storage Nodes\": { \"Nodes\": [ ... ] }\n",
                "operationId": "getZones",
                "responses": {
                    "200": {
                        "description": "Zones configuration.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "Zones": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "Zone Name": {
                                                        "type": "string"
                                                    },
                                                    "Kubernetes Topology Zone": {
                                                        "type": "object",
                                                        "properties": {
                                                            "Management Master Nodes": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "Nodes": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "string"
                                                                        }
                                                                    }
                                                                }
                                                            },
                                                            "Management Worker Nodes": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "Nodes": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "string"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    },
                                                    "CEPH Zone": {
                                                        "type": "object",
                                                        "properties": {
                                                            "Management Storage Nodes": {
                                                                "type": "object",
                                                                "properties": {
                                                                    "Nodes": {
                                                                        "type": "array",
                                                                        "items": {
                                                                            "type": "string"
                                                                        }
                                                                    }
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "aggregated": {
                                        "value": {
                                            "Zones": [
                                                {
                                                    "Zone Name": "x3000",
                                                    "Kubernetes Topology Zone": {
                                                        "Management Master Nodes": {
                                                            "Nodes": [
                                                                "ncn-m001",
                                                                "ncn-m002",
                                                                "ncn-m003"
                                                            ]
                                                        },
                                                        "Management Worker Nodes": {
                                                            "Nodes": [
                                                                "ncn-w001",
                                                                "ncn-w002",
                                                                "ncn-w003",
                                                                "ncn-w004",
                                                                "ncn-w005"
                                                            ]
                                                        }
                                                    },
                                                    "CEPH Zone": {
                                                        "Management Storage Nodes": {
                                                            "Nodes": [
                                                                "ncn-s001",
                                                                "ncn-s002",
                                                                "ncn-s003"
                                                            ]
                                                        }
                                                    }
                                                },
                                                {
                                                    "Zone Name": "x3001",
                                                    "Kubernetes Topology Zone": {
                                                        "Management Master Nodes": {
                                                            "Nodes": [
                                                                "ncn-m001",
                                                                "ncn-m002",
                                                                "ncn-m003"
                                                            ]
                                                        },
                                                        "Management Worker Nodes": {
                                                            "Nodes": [
                                                                "ncn-w001",
                                                                "ncn-w002",
                                                                "ncn-w003",
                                                                "ncn-w004",
                                                                "ncn-w005"
                                                            ]
                                                        }
                                                    },
                                                    "CEPH Zone": {
                                                        "Management Storage Nodes": {
                                                            "Nodes": [
                                                                "ncn-s001",
                                                                "ncn-s002",
                                                                "ncn-s003"
                                                            ]
                                                        }
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Zones not found."
                    }
                }
            }
        },
        "/zones/{zone_name}": {
            "get": {
                "summary": "Get Detailed Zone Information",
                "tags": [
                    "zones"
                ],
                "description": "Returns detailed information for a specific zone. The response includes:\n  - \"Zone Name\": the name of the zone.\n  - \"Management Master\": an object with \"Nodes\" (array of node objects with Name and Status) and \"Type\".\n  - \"Management Masters\": number (count of master nodes).\n  - \"Management Storage\": number (count of storage nodes).\n  - \"Management Worker\": an object with \"Nodes\" (array of node objects with Name and Status) and \"Type\".\n  - \"Management Workers\": number (count of worker nodes).\n",
                "operationId": "getZoneDetails",
                "parameters": [
                    {
                        "name": "zone_name",
                        "in": "path",
                        "required": true,
                        "description": "The name of the zone.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detailed zone information.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "Zone Name": {
                                            "type": "string"
                                        },
                                        "Management Master": {
                                            "type": "object",
                                            "properties": {
                                                "Nodes": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "Name": {
                                                                "type": "string"
                                                            },
                                                            "Status": {
                                                                "type": "string"
                                                            }
                                                        }
                                                    }
                                                },
                                                "Type": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "Management Masters": {
                                            "type": "integer"
                                        },
                                        "Management Storage": {
                                            "type": "integer"
                                        },
                                        "Management Worker": {
                                            "type": "object",
                                            "properties": {
                                                "Nodes": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "Name": {
                                                                "type": "string"
                                                            },
                                                            "Status": {
                                                                "type": "string"
                                                            }
                                                        }
                                                    }
                                                },
                                                "Type": {
                                                    "type": "string"
                                                }
                                            }
                                        },
                                        "Management Workers": {
                                            "type": "integer"
                                        }
                                    }
                                },
                                "examples": {
                                    "zoneDetail": {
                                        "value": {
                                            "Zone Name": "x3000",
                                            "Management Master": {
                                                "Nodes": [
                                                    {
                                                        "Name": "ncn-m001",
                                                        "Status": "Ready"
                                                    },
                                                    {
                                                        "Name": "ncn-m002",
                                                        "Status": "Ready"
                                                    },
                                                    {
                                                        "Name": "ncn-m003",
                                                        "Status": "Ready"
                                                    }
                                                ],
                                                "Type": "Kubernetes Topology Zone"
                                            },
                                            "Management Masters": 3,
                                            "Management Storage": 0,
                                            "Management Worker": {
                                                "Nodes": [
                                                    {
                                                        "Name": "ncn-w001",
                                                        "Status": "Ready"
                                                    },
                                                    {
                                                        "Name": "ncn-w002",
                                                        "Status": "Ready"
                                                    },
                                                    {
                                                        "Name": "ncn-w003",
                                                        "Status": "Ready"
                                                    },
                                                    {
                                                        "Name": "ncn-w004",
                                                        "Status": "Ready"
                                                    },
                                                    {
                                                        "Name": "ncn-w005",
                                                        "Status": "Ready"
                                                    }
                                                ],
                                                "Type": "Kubernetes Topology Zone"
                                            },
                                            "Management Workers": 5
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Zone not found."
                    }
                }
            }
        },
        "/criticalservices": {
            "get": {
                "summary": "Get Critical Services",
                "tags": [
                    "criticalservices"
                ],
                "description": "Returns an object with a \"critical-services\" property. The value is an object with a \"namespace\" property, which is an object where each key is a namespace and the value is an array of service objects.\n",
                "operationId": "getCriticalServices",
                "responses": {
                    "200": {
                        "description": "List of critical services grouped by namespace.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "critical-services": {
                                            "type": "object",
                                            "properties": {
                                                "namespace": {
                                                    "type": "object",
                                                    "additionalProperties": {
                                                        "type": "array",
                                                        "items": {
                                                            "type": "object",
                                                            "properties": {
                                                                "name": {
                                                                    "type": "string"
                                                                },
                                                                "type": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "criticalServices": {
                                        "value": {
                                            "critical-services": {
                                                "namespace": {
                                                    "default": [
                                                        {
                                                            "name": "newservice",
                                                            "type": "Deployment"
                                                        }
                                                    ],
                                                    "kube-system": [
                                                        {
                                                            "name": "kube-multus-ds",
                                                            "type": "DaemonSet"
                                                        },
                                                        {
                                                            "name": "kube-proxy",
                                                            "type": "DaemonSet"
                                                        }
                                                    ],
                                                    "nexus": [
                                                        {
                                                            "name": "coredns",
                                                            "type": "Deployment"
                                                        },
                                                        {
                                                            "name": "nexus",
                                                            "type": "Deployment"
                                                        },
                                                        {
                                                            "name": "redns",
                                                            "type": "Deployment"
                                                        }
                                                    ],
                                                    "services": [
                                                        {
                                                            "name": "cray-keycloak",
                                                            "type": "StatefulSet"
                                                        }
                                                    ]
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Critical services not found."
                    }
                }
            },
            "patch": {
                "summary": "Update Critical Services ConfigMap",
                "tags": [
                    "criticalservices"
                ],
                "operationId": "patchCriticalServices",
                "description": "Updates the critical services configuration. The request body should contain a JSON string in the from_file property representing the updated critical services configuration.\n",
                "requestBody": {
                    "required": true,
                    "content": {
                        "application/json": {
                            "schema": {
                                "type": "object",
                                "properties": {
                                    "from_file": {
                                        "type": "string",
                                        "description": "A JSON string containing the updated critical services configuration."
                                    }
                                },
                                "required": [
                                    "from_file"
                                ]
                            }
                        }
                    }
                },
                "responses": {
                    "200": {
                        "description": "ConfigMap updated successfully.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "Already Existing Services": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": [
                                                "kube-multus-ds"
                                            ]
                                        },
                                        "Message for unknown services": {
                                            "type": "string",
                                            "example": "Service(s) has no associated pods in the namespace, Please verify the Information"
                                        },
                                        "Unknown Services": {
                                            "type": "array",
                                            "items": {
                                                "type": "string"
                                            },
                                            "example": [
                                                "coredns-xxx"
                                            ]
                                        },
                                        "Update": {
                                            "type": "string",
                                            "example": "OK"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Critical services configuration not found.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "description": "Not found.",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "error": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "500": {
                        "description": "Internal server error.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "description": "Internal server error.",
                                    "content": {
                                        "application/json": {
                                            "schema": {
                                                "type": "object",
                                                "properties": {
                                                    "error": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            }
        },
        "/criticalservices/{critical_service_name}": {
            "get": {
                "summary": "Get Critical Service Details",
                "tags": [
                    "criticalservices"
                ],
                "description": "Returns detailed information for a specific critical service. The response includes:\n  - \"Configured Instances\": number\n  - \"Currently Running Instances\": number\n  - \"Name\": string\n  - \"Namespace\": string\n  - \"Pods\": array of pod objects with \"Name\", \"Node\", \"Status\", \"Zone\"\n  - \"Type\": string\n",
                "operationId": "getCriticalServiceDetails",
                "parameters": [
                    {
                        "name": "critical_service_name",
                        "in": "path",
                        "required": true,
                        "description": "The name of the critical service.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Detailed critical service information.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "Critical Service": {
                                            "type": "object",
                                            "properties": {
                                                "Configured Instances": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "Currently Running Instances": {
                                                    "type": "integer",
                                                    "example": 3
                                                },
                                                "Name": {
                                                    "type": "string"
                                                },
                                                "Namespace": {
                                                    "type": "string"
                                                },
                                                "Pods": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "object",
                                                        "properties": {
                                                            "Name": {
                                                                "type": "string"
                                                            },
                                                            "Node": {
                                                                "type": "string"
                                                            },
                                                            "Status": {
                                                                "type": "string"
                                                            },
                                                            "Zone": {
                                                                "type": "string"
                                                            }
                                                        }
                                                    }
                                                },
                                                "Type": {
                                                    "type": "string"
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "criticalServiceDetail": {
                                        "value": {
                                            "Critical Service": {
                                                "Configured Instances": 3,
                                                "Currently Running Instances": 3,
                                                "Name": "cray-keycloak",
                                                "Namespace": "services",
                                                "Pods": [
                                                    {
                                                        "Name": "cray-keycloak-0",
                                                        "Node": "ncn-w001",
                                                        "Status": "Running",
                                                        "Zone": "x3000"
                                                    },
                                                    {
                                                        "Name": "cray-keycloak-1",
                                                        "Node": "ncn-w004",
                                                        "Status": "Running",
                                                        "Zone": "x3000"
                                                    },
                                                    {
                                                        "Name": "cray-keycloak-2",
                                                        "Node": "ncn-w003",
                                                        "Status": "Running",
                                                        "Zone": "x3000"
                                                    }
                                                ],
                                                "Type": "StatefulSet"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Critical service not found."
                    }
                }
            }
        },
        "/criticalservices/status": {
            "get": {
                "summary": "Get Critical Services Status",
                "tags": [
                    "criticalservices"
                ],
                "description": "Returns the status of all critical services. The response includes:\n  - \"services\": an array of objects each containing:\n      - \"service-name\": the name of the critical service.\n      - \"status\": the current status (e.g., balanced, unbalanced).\n      - \"replicaDistribution\": an object where each key is a zone and the value is an array of objects mapping node names to pod names.\n",
                "operationId": "getAllCriticalServicesStatus",
                "responses": {
                    "200": {
                        "description": "Critical services status retrieved successfully.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "services": {
                                            "type": "array",
                                            "items": {
                                                "type": "object",
                                                "properties": {
                                                    "service-name": {
                                                        "type": "string"
                                                    },
                                                    "status": {
                                                        "type": "string"
                                                    },
                                                    "replicaDistribution": {
                                                        "type": "object",
                                                        "additionalProperties": {
                                                            "type": "array",
                                                            "items": {
                                                                "type": "object",
                                                                "additionalProperties": {
                                                                    "type": "string"
                                                                }
                                                            }
                                                        }
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "statusExample": {
                                        "value": {
                                            "services": [
                                                {
                                                    "service-name": "cray-ims",
                                                    "status": "balanced",
                                                    "replicaDistribution": {
                                                        "x3001": [
                                                            {
                                                                "ncn-w001": "coredns-84fd866c7d-8ctmk"
                                                            },
                                                            {
                                                                "ncn-w002": "coredns-84fd866c7d-8ctdk"
                                                            }
                                                        ],
                                                        "x3002": [
                                                            {
                                                                "ncn-w003": "coredns-84fd866c7d-8ctmk"
                                                            },
                                                            {
                                                                "ncn-w004": "coredns-84fd866c7d-8ctmh"
                                                            }
                                                        ]
                                                    }
                                                },
                                                {
                                                    "service-name": "cray-smd",
                                                    "status": "unbalanced",
                                                    "replicaDistribution": {
                                                        "x3001": [
                                                            {
                                                                "ncn-w001": "smd-84fd866c7d-8ctmk"
                                                            },
                                                            {
                                                                "ncn-w002": "smd-84fd866c7d-8ctdk"
                                                            },
                                                            {
                                                                "ncn-w005": "smd-84fd866c7d-8ctdf"
                                                            }
                                                        ],
                                                        "x3002": [
                                                            {
                                                                "ncn-w003": "smd-84fd866c7d-8ctmk"
                                                            }
                                                        ]
                                                    }
                                                }
                                            ]
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Critical services status not found."
                    }
                }
            }
        },
        "/criticalservices/status/{critical_service_name}": {
            "get": {
                "summary": "Get Critical Service Status by Name",
                "tags": [
                    "criticalservices"
                ],
                "description": "Returns the status of a specific critical service. The response includes:\n  - \"service-name\": the name of the critical service.\n  - \"status\": the current status.\n  - \"replicaDistribution\": an object where each key is a zone and the value is an array of objects mapping node names to pod names.\n",
                "operationId": "getCriticalServiceStatus",
                "parameters": [
                    {
                        "name": "critical_service_name",
                        "in": "path",
                        "required": true,
                        "description": "The name of the critical service.",
                        "schema": {
                            "type": "string"
                        }
                    }
                ],
                "responses": {
                    "200": {
                        "description": "Critical service status retrieved successfully.",
                        "content": {
                            "application/json": {
                                "schema": {
                                    "type": "object",
                                    "properties": {
                                        "service-name": {
                                            "type": "string"
                                        },
                                        "status": {
                                            "type": "string"
                                        },
                                        "replicaDistribution": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "array",
                                                "items": {
                                                    "type": "object",
                                                    "additionalProperties": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "examples": {
                                    "criticalStatusExample": {
                                        "value": {
                                            "service-name": "cray-ims",
                                            "status": "balanced",
                                            "replicaDistribution": {
                                                "x3001": [
                                                    {
                                                        "ncn-w001": "coredns-84fd866c7d-8ctmk"
                                                    },
                                                    {
                                                        "ncn-w002": "coredns-84fd866c7d-8ctdk"
                                                    }
                                                ],
                                                "x3002": [
                                                    {
                                                        "ncn-w003": "coredns-84fd866c7d-8ctmk"
                                                    },
                                                    {
                                                        "ncn-w004": "coredns-84fd866c7d-8ctmh"
                                                    }
                                                ]
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "404": {
                        "description": "Critical service status not found."
                    }
                }
            }
        }
    },
    "components": {
        "schemas": {
            "ZonesResponse": {
                "type": "object",
                "properties": {
                    "Zones": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Zone Name": {
                                    "type": "string"
                                },
                                "Kubernetes Topology Zone": {
                                    "type": "object",
                                    "properties": {
                                        "Management Master Nodes": {
                                            "type": "object",
                                            "properties": {
                                                "Nodes": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        },
                                        "Management Worker Nodes": {
                                            "type": "object",
                                            "properties": {
                                                "Nodes": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                },
                                "CEPH Zone": {
                                    "type": "object",
                                    "properties": {
                                        "Management Storage Nodes": {
                                            "type": "object",
                                            "properties": {
                                                "Nodes": {
                                                    "type": "array",
                                                    "items": {
                                                        "type": "string"
                                                    }
                                                }
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "ZoneItem": {
                "type": "object",
                "properties": {
                    "Zone Name": {
                        "type": "string"
                    },
                    "Kubernetes Topology Zone": {
                        "type": "object",
                        "properties": {
                            "Management Master Nodes": {
                                "type": "object",
                                "properties": {
                                    "Nodes": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "Management Worker Nodes": {
                                "type": "object",
                                "properties": {
                                    "Nodes": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    },
                    "CEPH Zone": {
                        "type": "object",
                        "properties": {
                            "Management Storage Nodes": {
                                "type": "object",
                                "properties": {
                                    "Nodes": {
                                        "type": "array",
                                        "items": {
                                            "type": "string"
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "ZoneDetailResponse": {
                "type": "object",
                "properties": {
                    "Zone Name": {
                        "type": "string"
                    },
                    "Management Master": {
                        "type": "object",
                        "properties": {
                            "Nodes": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "Name": {
                                            "type": "string"
                                        },
                                        "Status": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "Type": {
                                "type": "string"
                            }
                        }
                    },
                    "Management Masters": {
                        "type": "integer"
                    },
                    "Management Storage": {
                        "type": "integer"
                    },
                    "Management Worker": {
                        "type": "object",
                        "properties": {
                            "Nodes": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "Name": {
                                            "type": "string"
                                        },
                                        "Status": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "Type": {
                                "type": "string"
                            }
                        }
                    },
                    "Management Workers": {
                        "type": "integer"
                    }
                }
            },
            "NodeDetail": {
                "type": "object",
                "properties": {
                    "Name": {
                        "type": "string"
                    },
                    "Status": {
                        "type": "string"
                    }
                }
            },
            "CriticalServicesList": {
                "type": "object",
                "properties": {
                    "critical-services": {
                        "type": "object",
                        "properties": {
                            "namespace": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "array",
                                    "items": {
                                        "type": "object",
                                        "properties": {
                                            "name": {
                                                "type": "string"
                                            },
                                            "type": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "ServiceItem": {
                "type": "object",
                "properties": {
                    "name": {
                        "type": "string"
                    },
                    "type": {
                        "type": "string"
                    }
                }
            },
            "CriticalServicesPatch": {
                "type": "object",
                "properties": {
                    "from_file": {
                        "type": "string",
                        "description": "A JSON string containing the updated critical services configuration."
                    }
                },
                "required": [
                    "from_file"
                ]
            },
            "CriticalServicesPatchResponse": {
                "type": "object",
                "properties": {
                    "Already Existing Services": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "kube-multus-ds"
                        ]
                    },
                    "Message for unknown services": {
                        "type": "string",
                        "example": "Service(s) has no associated pods in the namespace, Please verify the Information"
                    },
                    "Unknown Services": {
                        "type": "array",
                        "items": {
                            "type": "string"
                        },
                        "example": [
                            "coredns-xxx"
                        ]
                    },
                    "Update": {
                        "type": "string",
                        "example": "OK"
                    }
                }
            },
            "CriticalServiceDetailResponse": {
                "type": "object",
                "properties": {
                    "Critical Service": {
                        "type": "object",
                        "properties": {
                            "Configured Instances": {
                                "type": "integer",
                                "example": 3
                            },
                            "Currently Running Instances": {
                                "type": "integer",
                                "example": 3
                            },
                            "Name": {
                                "type": "string"
                            },
                            "Namespace": {
                                "type": "string"
                            },
                            "Pods": {
                                "type": "array",
                                "items": {
                                    "type": "object",
                                    "properties": {
                                        "Name": {
                                            "type": "string"
                                        },
                                        "Node": {
                                            "type": "string"
                                        },
                                        "Status": {
                                            "type": "string"
                                        },
                                        "Zone": {
                                            "type": "string"
                                        }
                                    }
                                }
                            },
                            "Type": {
                                "type": "string"
                            }
                        }
                    }
                }
            },
            "CriticalServiceDetail": {
                "type": "object",
                "properties": {
                    "Configured Instances": {
                        "type": "integer",
                        "example": 3
                    },
                    "Currently Running Instances": {
                        "type": "integer",
                        "example": 3
                    },
                    "Name": {
                        "type": "string"
                    },
                    "Namespace": {
                        "type": "string"
                    },
                    "Pods": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "Name": {
                                    "type": "string"
                                },
                                "Node": {
                                    "type": "string"
                                },
                                "Status": {
                                    "type": "string"
                                },
                                "Zone": {
                                    "type": "string"
                                }
                            }
                        }
                    },
                    "Type": {
                        "type": "string"
                    }
                }
            },
            "PodDetail": {
                "type": "object",
                "properties": {
                    "Name": {
                        "type": "string"
                    },
                    "Node": {
                        "type": "string"
                    },
                    "Status": {
                        "type": "string"
                    },
                    "Zone": {
                        "type": "string"
                    }
                }
            },
            "CriticalServicesStatusResponse": {
                "type": "object",
                "properties": {
                    "services": {
                        "type": "array",
                        "items": {
                            "type": "object",
                            "properties": {
                                "service-name": {
                                    "type": "string"
                                },
                                "status": {
                                    "type": "string"
                                },
                                "replicaDistribution": {
                                    "type": "object",
                                    "additionalProperties": {
                                        "type": "array",
                                        "items": {
                                            "type": "object",
                                            "additionalProperties": {
                                                "type": "string"
                                            }
                                        }
                                    }
                                }
                            }
                        }
                    }
                }
            },
            "CriticalServiceStatus": {
                "type": "object",
                "properties": {
                    "service-name": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string"
                    },
                    "replicaDistribution": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            },
            "CriticalServiceStatusResponse": {
                "type": "object",
                "properties": {
                    "service-name": {
                        "type": "string"
                    },
                    "status": {
                        "type": "string"
                    },
                    "replicaDistribution": {
                        "type": "object",
                        "additionalProperties": {
                            "type": "array",
                            "items": {
                                "type": "object",
                                "additionalProperties": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        },
        "responses": {
            "NotFound": {
                "description": "Not found.",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            },
            "InternalServerError": {
                "description": "Internal server error.",
                "content": {
                    "application/json": {
                        "schema": {
                            "type": "object",
                            "properties": {
                                "error": {
                                    "type": "string"
                                }
                            }
                        }
                    }
                }
            }
        }
    }
}